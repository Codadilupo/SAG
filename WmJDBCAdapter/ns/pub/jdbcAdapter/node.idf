<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="shared">ICAgIHByaXZhdGUgc3RhdGljIFN0cmluZyBxdWVyeU5vdGlmaWNhdGlvblN0YXRlKFN0cmluZyBu
b2RlTmFtZSkgdGhyb3dzIEV4Y2VwdGlvbg0KICAgIHsNCiAgICAgICAgSURhdGEgaW5wdXQgPSBJ
RGF0YUZhY3RvcnkuY3JlYXRlKCk7DQogICAgICAgIElEYXRhQ3Vyc29yIGlkY0lucHV0ID0gaW5w
dXQuZ2V0Q3Vyc29yKCk7DQogICAgICAgIGlkY0lucHV0Lmluc2VydEFmdGVyKCJub3RpZmljYXRp
b25OYW1lIiwgbm9kZU5hbWUpOw0KICAgICAgICBpZGNJbnB1dC5kZXN0cm95KCk7DQogICAgICAg
IElEYXRhIG91dHB1dCA9IFNlcnZpY2UuZG9JbnZva2UoTlNfcXVlcnlTdGF0ZSwgaW5wdXQpOw0K
ICAgICAgICBJRGF0YUN1cnNvciBpZGNPdXRwdXQgPSBvdXRwdXQuZ2V0Q3Vyc29yKCk7DQogICAg
ICAgIFN0cmluZyBub3RpZmljYXRpb25TdGF0ZSA9IElEYXRhVXRpbC5nZXRTdHJpbmcoaWRjT3V0
cHV0LCAibm90aWZpY2F0aW9uU3RhdGUiKTsNCiAgICAgICAgaWRjT3V0cHV0LmRlc3Ryb3koKTsN
CiAgICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvblN0YXRlOw0KICAgIH0NCg0KICAgIHByaXZhdGUg
c3RhdGljIHZvaWQgZGlzYWJsZU5vdGlmaWNhdGlvbihTdHJpbmcgbm9kZU5hbWUpIHRocm93cyBF
eGNlcHRpb24NCiAgICB7DQogICAgICAgIElEYXRhIGlucHV0ID0gSURhdGFGYWN0b3J5LmNyZWF0
ZSgpOw0KICAgICAgICBJRGF0YUN1cnNvciBpZGNJbnB1dCA9IGlucHV0LmdldEN1cnNvcigpOw0K
ICAgICAgICBpZGNJbnB1dC5pbnNlcnRBZnRlcigibm90aWZpY2F0aW9uTmFtZSIsIG5vZGVOYW1l
KTsNCiAgICAgICAgaWRjSW5wdXQuZGVzdHJveSgpOw0KICAgICAgICBTZXJ2aWNlLmRvSW52b2tl
KE5TX2Rpc2FibGUsIGlucHV0KTsNCiAgICB9DQoNCiAgICBwcml2YXRlIHN0YXRpYyBPYmplY3Rb
XSBnZXROb3RpZmljYXRpb25Qcm9wZXJ0aWVzKFN0cmluZyBub2RlTmFtZSkgdGhyb3dzIEFkYXB0
ZXJTZXJ2aWNlRXhjZXB0aW9uLCBFeGNlcHRpb24NCiAgICB7DQogICAgICAgIElEYXRhIGlucHV0
ID0gSURhdGFGYWN0b3J5LmNyZWF0ZSgpOw0KICAgICAgICBJRGF0YUN1cnNvciBpZGNJbnB1dCA9
IGlucHV0LmdldEN1cnNvcigpOw0KICAgICAgICBpZGNJbnB1dC5pbnNlcnRBZnRlcigibm9kZU5h
bWUiLCBub2RlTmFtZSk7DQogICAgICAgIGlkY0lucHV0LmRlc3Ryb3koKTsNCiAgICAgICAgSURh
dGEgb3V0cHV0ID0gU2VydmljZS5kb0ludm9rZShOU19xdWVyeVByb3BlcnR5LCBpbnB1dCk7DQog
ICAgICAgIElEYXRhQ3Vyc29yIGlkY091dHB1dCA9IG91dHB1dC5nZXRDdXJzb3IoKTsNCiAgICAg
ICAgT2JqZWN0W10gcHJvcHMgPSBuZXcgT2JqZWN0WzRdOw0KICAgICAgICBwcm9wc1swXSA9IElE
YXRhVXRpbC5nZXQoaWRjT3V0cHV0LCAibm90aWZpY2F0aW9uQ2xhc3NOYW1lIik7DQoNCiAgICAg
ICAgU3RyaW5nIG5vdGlmaWNhdGlvbiA9IChTdHJpbmcpcHJvcHNbMF07DQogICAgICAgIGlmIChu
b3RpZmljYXRpb24gPT0gbnVsbCkNCiAgICAgICAgICAgIHRocm93IGNyZWF0ZUFkYXB0ZXJTZXJ2
aWNlRXhjZXB0aW9uKEpEQkNDb25zdGFudHMuSlNfbm90Tm90aWZpY2F0aW9uKTsNCgkJU3RyaW5n
IHByb3BlcnR5TmFtZSA9IG51bGw7DQoJCWlmIChub3RpZmljYXRpb24uZXF1YWxzKCJjb20ud20u
YWRhcHRlci53bWpkYmMubm90aWZpY2F0aW9ucy5PcmRlcmVkTm90aWZpY2F0aW9uIikpDQoJCQlw
cm9wZXJ0eU5hbWUgPSAic291cmNlVGFibGVzLnNjaGVtYU5hbWUiOw0KCQllbHNlIGlmIChub3Rp
ZmljYXRpb24uZXF1YWxzKCJjb20ud20uYWRhcHRlci53bWpkYmMubm90aWZpY2F0aW9ucy5JbnNl
cnROb3RpZmljYXRpb24iKQ0KCQkJfHwgbm90aWZpY2F0aW9uLmVxdWFscygiY29tLndtLmFkYXB0
ZXIud21qZGJjLm5vdGlmaWNhdGlvbnMuVXBkYXRlTm90aWZpY2F0aW9uIikNCgkJCXx8IG5vdGlm
aWNhdGlvbi5lcXVhbHMoImNvbS53bS5hZGFwdGVyLndtamRiYy5ub3RpZmljYXRpb25zLkRlbGV0
ZU5vdGlmaWNhdGlvbiIpDQoJCQl8fCBub3RpZmljYXRpb24uZXF1YWxzKCJjb20ud20uYWRhcHRl
ci53bWpkYmMubm90aWZpY2F0aW9ucy5CYXNpY05vdGlmaWNhdGlvbiIpKQ0KCQkJcHJvcGVydHlO
YW1lID0gInRhYmxlcy5zY2hlbWFOYW1lIjsNCgkJZWxzZQ0KICAgICAgICAgICAgdGhyb3cgY3Jl
YXRlQWRhcHRlclNlcnZpY2VFeGNlcHRpb24oSkRCQ0NvbnN0YW50cy5KU19ub3RTdXBwb3J0LA0K
CQkJCQkJCQkJbmV3IFN0cmluZ1tde25vZGVOYW1lfSk7DQogICAgICAgIHByb3BzWzFdID0gcHJv
cGVydHlOYW1lOw0KDQogICAgICAgIElEYXRhIG5vdGlmaWNhdGlvblByb3BlcnRpZXMgPSAoSURh
dGEpIElEYXRhVXRpbC5nZXQoaWRjT3V0cHV0LCAibm90aWZpY2F0aW9uUHJvcGVydGllcyIpOw0K
ICAgICAgICBJRGF0YUN1cnNvciBpZGNOb3RpZmljYXRpb25Qcm9wZXJ0aWVzID0gbm90aWZpY2F0
aW9uUHJvcGVydGllcy5nZXRDdXJzb3IoKTsNCiAgICAgICAgcHJvcHNbMl0gPSBJRGF0YVV0aWwu
Z2V0KGlkY05vdGlmaWNhdGlvblByb3BlcnRpZXMsICJkZXNpZ25UaW1lTG9jYWxlIik7DQogICAg
ICAgIHByb3BzWzNdID0gSURhdGFVdGlsLmdldChpZGNOb3RpZmljYXRpb25Qcm9wZXJ0aWVzLCBw
cm9wZXJ0eU5hbWUpOw0KICAgICAgICBpZGNOb3RpZmljYXRpb25Qcm9wZXJ0aWVzLmRlc3Ryb3ko
KTsNCiAgICAgICAgaWRjT3V0cHV0LmRlc3Ryb3koKTsNCg0KICAgICAgICBpZiAocHJvcHNbM10g
PT0gbnVsbCkNCiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVBZGFwdGVyU2VydmljZUV4Y2Vw
dGlvbihKREJDQ29uc3RhbnRzLkpTX25vU2NoZW1hKTsNCg0KICAgICAgICByZXR1cm4gcHJvcHM7
DQogICAgfQ0KDQogICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCB1cGRhdGVOb3RpZmljYXRpb25Qcm9w
ZXJ0eShTdHJpbmcgbm9kZU5hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBTdHJpbmcgcHJvcGVydHlOYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgU3RyaW5nW10gc2NoZW1hTGlzdCkgdGhyb3dzIEV4Y2VwdGlvbg0KICAgIHsNCiAgICAgICAg
SURhdGEgbWV0YURhdGFTZXR0aW5nID0gSURhdGFGYWN0b3J5LmNyZWF0ZSgpOw0KICAgICAgICBJ
RGF0YUN1cnNvciBpZGNNZXRhRGF0YVNldHRpbmcgPSBtZXRhRGF0YVNldHRpbmcuZ2V0Q3Vyc29y
KCk7DQogICAgICAgIElEYXRhVXRpbC5wdXQoaWRjTWV0YURhdGFTZXR0aW5nLCBwcm9wZXJ0eU5h
bWUsIHNjaGVtYUxpc3QpOw0KICAJICAgIGlkY01ldGFEYXRhU2V0dGluZy5kZXN0cm95KCk7DQoN
CiAgICAgICAgSURhdGEgaW5wdXQgPSBJRGF0YUZhY3RvcnkuY3JlYXRlKCk7DQogICAgICAgIElE
YXRhQ3Vyc29yIGlkY0lucHV0ID0gaW5wdXQuZ2V0Q3Vyc29yKCk7DQogICAgICAgIGlkY0lucHV0
Lmluc2VydEFmdGVyKCJub3RpZmljYXRpb25OYW1lIiwgbm9kZU5hbWUpOw0KICAgICAgICBpZGNJ
bnB1dC5pbnNlcnRBZnRlcigibm90aWZpY2F0aW9uU2V0dGluZ3MiLCBtZXRhRGF0YVNldHRpbmcp
Ow0KICAgICAgICBpZGNJbnB1dC5kZXN0cm95KCk7DQoNCiAgICAgICAgU2VydmljZS5kb0ludm9r
ZShOU191cGRhdGVQcm9wZXJ0eSwgaW5wdXQpOw0KICAgIH0NCg0KICAgIHByaXZhdGUgc3RhdGlj
IHZvaWQgZW5hYmxlTm90aWZpY2F0aW9uKFN0cmluZyBub2RlTmFtZSkgdGhyb3dzIEV4Y2VwdGlv
bg0KICAgIHsNCiAgICAgICAgSURhdGEgaW5wdXQgPSBJRGF0YUZhY3RvcnkuY3JlYXRlKCk7DQog
ICAgICAgIElEYXRhQ3Vyc29yIGlkY0lucHV0ID0gaW5wdXQuZ2V0Q3Vyc29yKCk7DQogICAgICAg
IGlkY0lucHV0Lmluc2VydEFmdGVyKCJub3RpZmljYXRpb25OYW1lIiwgbm9kZU5hbWUpOw0KICAg
ICAgICBpZGNJbnB1dC5kZXN0cm95KCk7DQogICAgICAgIElEYXRhIG91dHB1dCA9IFNlcnZpY2Uu
ZG9JbnZva2UoTlNfZW5hYmxlLCBpbnB1dCk7DQogICAgfQ0KDQogICAgcHJpdmF0ZSBzdGF0aWMg
QWRhcHRlclNlcnZpY2VFeGNlcHRpb24gY3JlYXRlQWRhcHRlclNlcnZpY2VFeGNlcHRpb24oaW50
IG1pbm9yQ29kZSkNCiAgICB7DQogICAgICAgIFdtQWRhcHRlciBhZHBJbnN0ID0gSkRCQ0FkYXB0
ZXIuZ2V0SW5zdGFuY2UoKTsNCiAgICAgICAgQWRhcHRlclNlcnZpY2VFeGNlcHRpb24gZXggPQ0K
ICAgICAgICAgICAgbmV3IEFkYXB0ZXJTZXJ2aWNlRXhjZXB0aW9uKGFkcEluc3QuZ2V0QWRhcHRl
clJlc291cmNlQnVuZGxlTWFuYWdlcigpLA0KICAgICAgICAgICAgSW50ZWdlci50b1N0cmluZyhh
ZHBJbnN0LmdldEFkYXB0ZXJNYWpvckNvZGUoKSksIEludGVnZXIudG9TdHJpbmcobWlub3JDb2Rl
KSwNCiAgICAgICAgICAgIG51bGwsIG51bGwsIG51bGwpOw0KICAgICAgICByZXR1cm4gZXg7DQog
ICAgfQ0KDQogICAgIHByaXZhdGUgc3RhdGljIE9iamVjdFtdIGdldFNlcnZpY2VQcm9wZXJ0aWVz
KFN0cmluZyBub2RlTmFtZSkgdGhyb3dzIEFkYXB0ZXJTZXJ2aWNlRXhjZXB0aW9uLCBFeGNlcHRp
b24NCiAgICB7DQogICAgICAgIElEYXRhIGlucHV0ID0gSURhdGFGYWN0b3J5LmNyZWF0ZSgpOw0K
ICAgICAgICBJRGF0YUN1cnNvciBpZGNJbnB1dCA9IGlucHV0LmdldEN1cnNvcigpOw0KICAgICAg
ICBpZGNJbnB1dC5pbnNlcnRBZnRlcigibm9kZU5hbWUiLCBub2RlTmFtZSk7DQogICAgICAgIGlk
Y0lucHV0LmRlc3Ryb3koKTsNCiAgICAgICAgSURhdGEgb3V0cHV0ID0gU2VydmljZS5kb0ludm9r
ZShOU19xdWVyeVNlcnZpY2VQcm9wZXJ0eSwgaW5wdXQpOw0KICAgICAgICBJRGF0YUN1cnNvciBp
ZGNPdXRwdXQgPSBvdXRwdXQuZ2V0Q3Vyc29yKCk7DQogICAgICAgIElEYXRhIHNydkRhdGEgPSAo
SURhdGEpSURhdGFVdGlsLmdldChpZGNPdXRwdXQsICJhZGFwdGVyU2VydmljZURhdGEiKTsNCiAg
ICAgICAgaWYgKHNydkRhdGEgPT0gbnVsbCkNCiAgICAgICAgICAgIHRocm93IGNyZWF0ZUFkYXB0
ZXJTZXJ2aWNlRXhjZXB0aW9uKEpEQkNDb25zdGFudHMuSlNfbm90U2VydmljZSk7DQogICAgICAg
IElEYXRhQ3Vyc29yIGlkY1NydkRhdGEgPSBzcnZEYXRhLmdldEN1cnNvcigpOw0KICAgICAgICBP
YmplY3RbXSBwcm9wcyA9IG5ldyBPYmplY3RbNF07DQogICAgICAgIHByb3BzWzBdID0gSURhdGFV
dGlsLmdldChpZGNTcnZEYXRhLCAic2VydmljZVRlbXBsYXRlTmFtZSIpOw0KDQogICAgICAgIFN0
cmluZyBzZXJ2aWNlID0gKFN0cmluZylwcm9wc1swXTsNCiAgICAgICAgaWYgKHNlcnZpY2UgPT0g
bnVsbCkNCiAgICAgICAgICAgIHRocm93IGNyZWF0ZUFkYXB0ZXJTZXJ2aWNlRXhjZXB0aW9uKEpE
QkNDb25zdGFudHMuSlNfbm90U2VydmljZSk7DQoJCVN0cmluZyBwcm9wZXJ0eU5hbWUgPSBudWxs
Ow0KCQlpZiAoc2VydmljZS5lcXVhbHMoImNvbS53bS5hZGFwdGVyLndtamRiYy5zZXJ2aWNlcy5J
bnNlcnQiKQ0KCQkJCXx8IHNlcnZpY2UuZXF1YWxzKCJjb20ud20uYWRhcHRlci53bWpkYmMuc2Vy
dmljZXMuQmF0Y2hJbnNlcnQiKQ0KCQkJCXx8IHNlcnZpY2UuZXF1YWxzKCJjb20ud20uYWRhcHRl
ci53bWpkYmMuc2VydmljZXMuQmF0Y2hVcGRhdGUiKQkJCQkNCgkJCXx8IHNlcnZpY2UuZXF1YWxz
KCJjb20ud20uYWRhcHRlci53bWpkYmMuc2VydmljZXMuVXBkYXRlIikNCgkJCXx8IHNlcnZpY2Uu
ZXF1YWxzKCJjb20ud20uYWRhcHRlci53bWpkYmMuc2VydmljZXMuRGVsZXRlIikNCgkJCXx8IHNl
cnZpY2UuZXF1YWxzKCJjb20ud20uYWRhcHRlci53bWpkYmMuc2VydmljZXMuU2VsZWN0IikpDQoJ
CQlwcm9wZXJ0eU5hbWUgPSAidGFibGVzLnNjaGVtYU5hbWUiOw0KCQllbHNlIGlmKHNlcnZpY2Uu
ZXF1YWxzKCJjb20ud20uYWRhcHRlci53bWpkYmMuc2VydmljZXMuU3RvcmVkUHJvY2VkdXJlV2l0
aFNpZ25hdHVyZSIpKQ0KCQkJCXByb3BlcnR5TmFtZSA9ICJwcm9jZWR1cmVTaWduYXR1cmUuc2No
ZW1hTmFtZSI7DQoJCWVsc2UgaWYoc2VydmljZS5lcXVhbHMoImNvbS53bS5hZGFwdGVyLndtamRi
Yy5zZXJ2aWNlcy5TdG9yZWRQcm9jZWR1cmUiKSl7DQoJCQkJcHJvcGVydHlOYW1lID0gInByb2Nl
ZHVyZS5zY2hlbWFOYW1lIjsNCgkJfWVsc2UNCiAgICAgICAgICAgIHRocm93IGNyZWF0ZUFkYXB0
ZXJTZXJ2aWNlRXhjZXB0aW9uKEpEQkNDb25zdGFudHMuSlNfbm90U3VwcG9ydCwNCgkJCQkJCQkJ
CW5ldyBTdHJpbmdbXXtzZXJ2aWNlfSk7DQogICAgICAgIHByb3BzWzFdID0gcHJvcGVydHlOYW1l
Ow0KDQogICAgICAgIElEYXRhIHNlcnZpY2VQcm9wZXJ0aWVzID0gKElEYXRhKSBJRGF0YVV0aWwu
Z2V0KGlkY1NydkRhdGEsICJ0ZW1wbGF0ZVByb3BlcnRpZXMiKTsNCiAgICAgICAgSURhdGFDdXJz
b3IgaWRjU2VydmljZVByb3BlcnRpZXMgPSBzZXJ2aWNlUHJvcGVydGllcy5nZXRDdXJzb3IoKTsN
CiAgICAgICAgcHJvcHNbMl0gPSBJRGF0YVV0aWwuZ2V0KGlkY1NlcnZpY2VQcm9wZXJ0aWVzLCAi
ZGVzaWduVGltZUxvY2FsZSIpOw0KICAgICAgICBwcm9wc1szXSA9IElEYXRhVXRpbC5nZXQoaWRj
U2VydmljZVByb3BlcnRpZXMsIHByb3BlcnR5TmFtZSk7DQoNCg0KDQogICAgICAgIGlkY1NlcnZp
Y2VQcm9wZXJ0aWVzLmRlc3Ryb3koKTsNCiAgICAgICAgaWRjU3J2RGF0YS5kZXN0cm95KCk7DQog
ICAgICAgIGlkY091dHB1dC5kZXN0cm95KCk7DQoNCiAgICAgICAgaWYgKHByb3BzWzNdID09IG51
bGwpDQogICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlQWRhcHRlclNlcnZpY2VFeGNlcHRpb24o
SkRCQ0NvbnN0YW50cy5KU19ub1NjaGVtYVNlcnZpY2UpOw0KDQogICAgICAgIHJldHVybiBwcm9w
czsNCiAgICB9DQoNCiAgICBwcml2YXRlIHN0YXRpYyB2b2lkIHVwZGF0ZVNlcnZpY2VQcm9wZXJ0
eShTdHJpbmcgbm9kZU5hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBT
dHJpbmcgcHJvcGVydHlOYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
T2JqZWN0IHNjaGVtYUxpc3QpIHRocm93cyBFeGNlcHRpb24NCiAgICB7DQogICAgICAgIElEYXRh
IG1ldGFEYXRhU2V0dGluZyA9IElEYXRhRmFjdG9yeS5jcmVhdGUoKTsNCiAgICAgICAgSURhdGFD
dXJzb3IgaWRjTWV0YURhdGFTZXR0aW5nID0gbWV0YURhdGFTZXR0aW5nLmdldEN1cnNvcigpOw0K
ICAgICAgICBJRGF0YVV0aWwucHV0KGlkY01ldGFEYXRhU2V0dGluZywgcHJvcGVydHlOYW1lLCBz
Y2hlbWFMaXN0KTsNCiAgCSAgICBpZGNNZXRhRGF0YVNldHRpbmcuZGVzdHJveSgpOw0KDQogICAg
ICAgIElEYXRhIGlucHV0ID0gSURhdGFGYWN0b3J5LmNyZWF0ZSgpOw0KICAgICAgICBJRGF0YUN1
cnNvciBpZGNJbnB1dCA9IGlucHV0LmdldEN1cnNvcigpOw0KICAgICAgICBpZGNJbnB1dC5pbnNl
cnRBZnRlcigic2VydmljZU5hbWUiLCBub2RlTmFtZSk7DQogICAgICAgIGlkY0lucHV0Lmluc2Vy
dEFmdGVyKCJhZGFwdGVyU2VydmljZVNldHRpbmdzIiwgbWV0YURhdGFTZXR0aW5nKTsNCiAgICAg
ICAgaWRjSW5wdXQuZGVzdHJveSgpOw0KDQogICAgICAgIFNlcnZpY2UuZG9JbnZva2UoTlNfdXBk
YXRlU2VydmljZVByb3BlcnR5LCBpbnB1dCk7DQogICAgfQ0KDQoNCiAgICBwcml2YXRlIHN0YXRp
YyBOb2RlTGlzdCBsb2FkQ29ubmVjdGlvbnMoU3RyaW5nIGZpbGVOYW1lKSB0aHJvd3MgRXhjZXB0
aW9uDQogICAgew0KICAgICAgICAvLyBHZXQgdGhlIGZhY3RvcnkNCiAgICAgICAgRG9jdW1lbnRC
dWlsZGVyRmFjdG9yeSBkYmYgPSBEb2N1bWVudEJ1aWxkZXJGYWN0b3J5Lm5ld0luc3RhbmNlKCk7
DQogICAgICAgIGRiZi5zZXRGZWF0dXJlKCJodHRwOi8veG1sLm9yZy9zYXgvZmVhdHVyZXMvZXh0
ZXJuYWwtZ2VuZXJhbC1lbnRpdGllcyIsZmFsc2UpOyANCiAgICAgICAgZGJmLnNldEZlYXR1cmUo
Imh0dHA6Ly9hcGFjaGUub3JnL3htbC9mZWF0dXJlcy9ub252YWxpZGF0aW5nL2xvYWQtZXh0ZXJu
YWwtZHRkIiwgZmFsc2UpOw0KICAgICAgICAvL1VzaW5nIGZhY3RvcnkgZ2V0IGFuIGluc3RhbmNl
IG9mIGRvY3VtZW50IGJ1aWxkZXINCiAgICAgICAgRG9jdW1lbnRCdWlsZGVyIGRiID0gZGJmLm5l
d0RvY3VtZW50QnVpbGRlcigpOw0KICAgICAgICBEb2N1bWVudCAgZG9tID0gZGIucGFyc2UoZmls
ZU5hbWUpOw0KICAgICAgICAvLyBHZXQgdGhlIHJvb3QgZWxlbWVtdA0KICAgICAgICBFbGVtZW50
IGRvY0VsZSA9IGRvbS5nZXREb2N1bWVudEVsZW1lbnQoKTsNCiAgICAgICAgLy9HZXQgYSBub2Rl
bGlzdCBvZiA8Q29ubmVjdGlvbj4gZWxlbWVudHMNCiAgICAgICAgTm9kZUxpc3QgbmwgPSBkb2NF
bGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIkNvbm5lY3Rpb24iKTsNCg0KICAgICAgICByZXR1cm4g
bmw7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogSSB0YWtlIGEgeG1sIGVsZW1lbnQgYW5kIHRo
ZSB0YWcgbmFtZSwgbG9vayBmb3IgdGhlIHRhZyBhbmQgZ2V0DQogICAgICogdGhlIHRleHQgY29u
dGVudA0KICAgICAqIGkuZSBmb3IgPGNvbm5lY3Rpb24+PHBhY2FrYWdlTmFtZT5KREJDPC9wYWNh
a2FnZU5hbWU+PC9jb25uZWN0aW9uPiB4bWwgc25pcHBldCBpZg0KICAgICAqIHRoZSBFbGVtZW50
IHBvaW50cyB0byBjb25uZWN0aW9uIG5vZGUgYW5kIHRhZ05hbWUgaXMgcGFjYWthZ2VOYW1lIGl0
IHdpbGwgcmV0dXJuIEpEQkMNCiAgICAgKiBAcGFyYW0gZWxlDQogICAgICogQHBhcmFtIHRhZ05h
bWUNCiAgICAgKiBAcmV0dXJuDQogICAgICovDQogICAgcHJpdmF0ZSBzdGF0aWMgU3RyaW5nIGdl
dFRleHRWYWx1ZShFbGVtZW50IGVsZSwgU3RyaW5nIHRhZ05hbWUsU3RyaW5nIGRlZmF1bHRWYWwp
IHsNCiAgICAgICAgU3RyaW5nIHRleHRWYWwgPSBkZWZhdWx0VmFsOw0KICAgICAgICBOb2RlTGlz
dCBubCA9IGVsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWdOYW1lKTsNCiAgICAgICAgaWYobmwg
IT0gbnVsbCAmJiBubC5nZXRMZW5ndGgoKSA+IDApIHsNCiAgICAgICAgICAgIEVsZW1lbnQgZWwg
PSAoRWxlbWVudClubC5pdGVtKDApOw0KICAgICAgICAgICAgaWYgKCBlbCAhPSBudWxsICkgew0K
ICAgICAgICAgICAgCXRleHRWYWwgPSAoZWwuZ2V0Rmlyc3RDaGlsZCgpID09IG51bGwpPyIiOmVs
LmdldEZpcnN0Q2hpbGQoKS5nZXROb2RlVmFsdWUoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAg
fQ0KDQogICAgICAgIHJldHVybiB0ZXh0VmFsOw0KICAgIH0NCiAgICBwcml2YXRlIHN0YXRpYyB2
b2lkIHB1dENvbm5lY3Rpb25NYW5hZ2VyUHJvcGVydGllcyhJRGF0YSBjb25uZWN0aW9uTWFuYWdl
clByb3AsRWxlbWVudCBwcm9wZXJ0aWVzKXRocm93cyBFeGNlcHRpb24NCiAgICB7DQogICAgICAg
IElEYXRhIGlucHV0ID0gSURhdGFGYWN0b3J5LmNyZWF0ZSgpOw0KICAgICAgICBTZXJ2aWNlLmRv
SW52b2tlKE5TX0ZFVENIX01FVEFEQSwgaW5wdXQpOw0KICAgICAgICBJRGF0YUV4dGVuc2lvbiBj
b25uTWFuYWdlclByb3AgPSBuZXcgSURhdGFFeHRlbnNpb24oY29ubmVjdGlvbk1hbmFnZXJQcm9w
KTsNCiAgICAgICAgSURhdGFbXSBwYXJhbXMgICAgICAgICA9IChJRGF0YVtdKUlEYXRhRXh0ZW5z
aW9uLmdldChpbnB1dCwgImNvbm5lY3Rpb25NYW5hZ2VyUHJvcGVydGllcyIpOw0KDQogICAgICAg
IGZvciAoaW50IGkgPSAwOyBpIDwgcGFyYW1zLmxlbmd0aDsgaSsrKQ0KICAgICAgICB7DQogICAg
ICAgICAgICBJRGF0YSBwYXJhbSA9IHBhcmFtc1tpXTsNCiAgICAgICAgICAgIFN0cmluZyBwcm9w
TmFtZSAgICAgPSAoU3RyaW5nKUlEYXRhRXh0ZW5zaW9uLmdldChwYXJhbSwgInN5c3RlbU5hbWUi
KTsNCiAgICAgICAgICAgIFN0cmluZyBkZWZhdWx0VmFsdWUgPSAgKFN0cmluZylJRGF0YUV4dGVu
c2lvbi5nZXQocGFyYW0sICJkZWZhdWx0VmFsdWUiKTsNCiAgICAgICAgICAgIFN0cmluZyBwcm9w
VmFsdWUgICAgPSAoZ2V0VGV4dFZhbHVlKHByb3BlcnRpZXMscHJvcE5hbWUsZGVmYXVsdFZhbHVl
KSkudHJpbSgpOw0KDQogICAgICAgICAgICBjb25uTWFuYWdlclByb3Auc2V0KHByb3BOYW1lLHBy
b3BWYWx1ZS5sZW5ndGgoKTw9MD9kZWZhdWx0VmFsdWU6cHJvcFZhbHVlKTsNCiAgICAgICAgfQ0K
DQogICAgfQ0KDQogICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCBwdXRDb25uZWN0aW9uUHJvcGVydGll
cyhJRGF0YSBjb25uZWN0aW9uUHJvcCxFbGVtZW50IHByb3BlcnRpZXMpIHRocm93cyBFeGNlcHRp
b24NCiAgICB7DQogICAgICAgIENsYXNzPD8+IGZhY3RvcnlDbGFzcyA9IENsYXNzLmZvck5hbWUo
RkFDVE9SWV9UWVBFKTsNCiAgICAgICAgQ2xhc3M8Pz4gc3RvcENsYXNzID0gQ2xhc3MuZm9yTmFt
ZShTVE9QX0NMQVNTKTsNCg0KICAgICAgICBJRGF0YUV4dGVuc2lvbiBjb25uUHJvcCA9IG5ldyBJ
RGF0YUV4dGVuc2lvbihjb25uZWN0aW9uUHJvcCk7DQoNCiAgICAgICAgQmVhbkluZm8gYmVhbklu
Zm8gPSBudWxsOw0KICAgICAgICBQcm9wZXJ0eURlc2NyaXB0b3JbXSBkZXNjcmlwdG9yczsNCiAg
ICAgICAgYmVhbkluZm8gPSBJbnRyb3NwZWN0b3IuZ2V0QmVhbkluZm8oZmFjdG9yeUNsYXNzLHN0
b3BDbGFzcyk7DQogICAgICAgIGRlc2NyaXB0b3JzID0gYmVhbkluZm8uZ2V0UHJvcGVydHlEZXNj
cmlwdG9ycygpOw0KICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IGRlc2NyaXB0b3JzLmxlbmd0
aDsgaSsrKQ0KICAgICAgICB7DQogICAgICAgICAgICBpZihkZXNjcmlwdG9yc1tpXS5nZXRXcml0
ZU1ldGhvZCgpICE9IG51bGwpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgU3RyaW5n
IHByb3BOYW1lICA9IGRlc2NyaXB0b3JzW2ldLmdldE5hbWUoKTsNCiAgICAgICAgICAgICAgICBT
dHJpbmcgcHJvcFZhbHVlID0gZ2V0VGV4dFZhbHVlKHByb3BlcnRpZXMscHJvcE5hbWUsbnVsbCk7
DQoNCiAgICAgICAgICAgICAgICBjb25uUHJvcC5zZXQocHJvcE5hbWUscHJvcFZhbHVlIT1udWxs
P3Byb3BWYWx1ZS50cmltKCk6cHJvcFZhbHVlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0K
DQogICAgfQ0KDQogICAgcHJpdmF0ZSBzdGF0aWMgdm9pZCBzZXRDcmVhdGVDb25uZWN0aW9uUmVz
cG9uc2UoSURhdGEgcGlwZWxpbmUsU3RyaW5nIGNvbm5lY3Rpb25BbGlhcyxTdHJpbmcgc3RhdHVz
LFN0cmluZyBlcnJvcixpbnQgaSkNCiAgICB7DQogICAgICAgICBJRGF0YSByZXMgPSBJRGF0YUZh
Y3RvcnkuY3JlYXRlKCk7DQogICAgICAgICBJRGF0YUV4dGVuc2lvbiByZXNQaXBlTGluZSA9IG5l
dyBJRGF0YUV4dGVuc2lvbihyZXMpOw0KICAgICAgICAgaWYoZXJyb3IgIT0gbnVsbCkNCiAgICAg
ICAgICByZXNQaXBlTGluZS5zZXQoImVycm9yRGV0YWlsIixlcnJvcik7DQogICAgICAgICByZXNQ
aXBlTGluZS5zZXQoInN0YXR1cyIsc3RhdHVzKTsNCiAgICAgICAgIHJlc1BpcGVMaW5lLnNldCgi
Y29ubmVjdGlvbkFsaWFzIixjb25uZWN0aW9uQWxpYXMpOw0KICAgICAgICAgSURhdGFFeHRlbnNp
b24uYXBwZW5kKHBpcGVsaW5lLCJDb25uZWN0aW9uWyIraSsiXSIscmVzKTsNCiAgICB9DQoNCg0K
ICAgIC8vICBDb21wYXJlIHRoZSBvbGQgcGFzc3dvcmQgZW50ZXJlZCB3aXRoIHRoZSBwYXNzd29y
ZCBhbHJlYWR5IGV4aXN0aW5nLCBiYXNlZCBvbiB0aGUgbm9kZSB2ZXJzaW9uLg0KICAgIHByaXZh
dGUgc3RhdGljIGJvb2xlYW4gY29tcGFyZVBhc3N3b3JkcyhJRGF0YSBwaXBlbGluZSxTdHJpbmcg
aW5wdXRQYXNzd29yZCkgdGhyb3dzIEV4Y2VwdGlvbg0KICAgIHsNCiAgICAgICAgaW5wdXRQYXNz
d29yZCA9IChpbnB1dFBhc3N3b3JkID09IG51bGwpPyIiOmlucHV0UGFzc3dvcmQ7DQogICAgICAg
IGJvb2xlYW4gaXNFcXVhbCA9IGZhbHNlOw0KDQogICAgICAgIFNlcnZpY2UuZG9JbnZva2UoTlNf
RkVUQ0hfQ09OTl9EQVRBLCBwaXBlbGluZSk7DQogICAgICAgIFN0cmluZyBub2RlTmFtZSA9IFZh
bHVlc0VtdWxhdG9yLmdldFN0cmluZyhwaXBlbGluZSwgQ09OTl9BTElBUyk7DQogICAgICAgIENv
bm5lY3Rpb25EYXRhTm9kZSBub2RlID0gQ29ubmVjdGlvbkRhdGFOb2RlTWFuYWdlci5nZXRDb25u
ZWN0aW9uRGF0YU5vZGUobm9kZU5hbWUpOw0KICAgICAgICANCiAgICAgICAgSURhdGFbXSBwYXJh
bXMgICAgICAgICA9IChJRGF0YVtdKUlEYXRhRXh0ZW5zaW9uLmdldChwaXBlbGluZSwgInBhcmFt
ZXRlcnMiKTsNCiAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKysp
DQogICAgICAgIHsNCiAgICAgICAgICAgICAgSURhdGEgcGFyYW0gPSBwYXJhbXNbaV07DQoNCiAg
ICAgICAgICAgICAgU3RyaW5nIHBhc3N3b3JkRmllbGQgPSAoU3RyaW5nKUlEYXRhRXh0ZW5zaW9u
LmdldChwYXJhbSwgInN5c3RlbU5hbWUiKTsNCg0KICAgICAgICAgICAgICBpZihwYXNzd29yZEZp
ZWxkICE9IG51bGwgJiYgcGFzc3dvcmRGaWVsZC5lcXVhbHMoInBhc3N3b3JkIikpDQogICAgICAg
ICAgICAgIHsNCg0KICAgICAgICAgICAgICAgICBTdHJpbmcgcGFzc3dvcmRWYWx1ZSA9IChTdHJp
bmcpSURhdGFFeHRlbnNpb24uZ2V0KHBhcmFtLCAidmFsdWUiKTsNCg0KICAgICAgICAgICAgICAg
ICAvL0Jhc2VkIG9uIG5vZGUgdmVyc2lvbiBvbGQgYW5kIG5ldyBwYXNzd29yZCB3aWxsIGJlIGNv
bXBhcmVkLg0KICAgICAgICAgICAgICAgICBTdHJpbmcgcGFzc3dvcmQgPSAiIjsNCiAgICAgICAg
ICAgICAgICAgaWYobm9kZS5nZXRfbm9kZVZlcnNpb24oKT09IENvbm5lY3Rpb25EYXRhTm9kZS5W
RVJTSU9OX09ORV9WQUxVRSl7DQogICAgICAgICAgICAgICAgCSBwYXNzd29yZCA9IGNvbS53bS5w
a2cuYXJ0LnV0aWwuU3RyaW5nVXRpbC5kZWNTdHJpbmcocGFzc3dvcmRWYWx1ZSk7DQogICAgICAg
ICAgICAgICAgIH1lbHNlIGlmKG5vZGUuZ2V0X25vZGVWZXJzaW9uKCkgPT0gQ29ubmVjdGlvbkRh
dGFOb2RlLlZFUlNJT05fVFdPX1ZBTFVFKXsNCiAgICAgICAgICAgICAgICAJIHBhc3N3b3JkID0g
Y29tLndtLnBrZy5hcnQudXRpbC5TdHJpbmdVdGlsLmdldEZyb21QYXNzbWFuKHBhc3N3b3JkVmFs
dWUpOw0KICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgCSANCiAgICAgICAgICAg
ICAgICAgaXNFcXVhbCA9IHBhc3N3b3JkLmVxdWFscyhpbnB1dFBhc3N3b3JkKTsNCg0KICAgICAg
ICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAg
cmV0dXJuIGlzRXF1YWw7DQogICAgfQ0KDQogICAgcHJpdmF0ZSBzdGF0aWMgQWRhcHRlclNlcnZp
Y2VFeGNlcHRpb24gY3JlYXRlQWRhcHRlclNlcnZpY2VFeGNlcHRpb24oaW50IG1pbm9yQ29kZSwg
U3RyaW5nW10gcGFybSkNCiAgICB7DQogICAgICAgIFdtQWRhcHRlciBhZHBJbnN0ID0gSkRCQ0Fk
YXB0ZXIuZ2V0SW5zdGFuY2UoKTsNCiAgICAgICAgQWRhcHRlclNlcnZpY2VFeGNlcHRpb24gZXgg
PQ0KICAgICAgICAgICAgbmV3IEFkYXB0ZXJTZXJ2aWNlRXhjZXB0aW9uKGFkcEluc3QuZ2V0QWRh
cHRlclJlc291cmNlQnVuZGxlTWFuYWdlcigpLA0KICAgICAgICAgICAgSW50ZWdlci50b1N0cmlu
ZyhhZHBJbnN0LmdldEFkYXB0ZXJNYWpvckNvZGUoKSksIEludGVnZXIudG9TdHJpbmcobWlub3JD
b2RlKSwNCiAgICAgICAgICAgIHBhcm0sIG51bGwsIG51bGwpOw0KICAgICAgICByZXR1cm4gZXg7
DQogICAgfQ0KDQogICAgcHJpdmF0ZSBzdGF0aWMgQWRhcHRlclNlcnZpY2VFeGNlcHRpb24gY3Jl
YXRlQWRhcHRlclNlcnZpY2VFeGNlcHRpb24oaW50IG1pbm9yQ29kZSwgVGhyb3dhYmxlIHQpDQog
ICAgew0KICAgICAgICBXbUFkYXB0ZXIgYWRwSW5zdCA9IEpEQkNBZGFwdGVyLmdldEluc3RhbmNl
KCk7DQogICAgICAgIEFkYXB0ZXJTZXJ2aWNlRXhjZXB0aW9uIGV4ID0NCiAgICAgICAgICAgIG5l
dyBBZGFwdGVyU2VydmljZUV4Y2VwdGlvbihhZHBJbnN0LmdldEFkYXB0ZXJSZXNvdXJjZUJ1bmRs
ZU1hbmFnZXIoKSwNCiAgICAgICAgICAgIEludGVnZXIudG9TdHJpbmcoYWRwSW5zdC5nZXRBZGFw
dGVyTWFqb3JDb2RlKCkpLCBJbnRlZ2VyLnRvU3RyaW5nKG1pbm9yQ29kZSksDQogICAgICAgICAg
ICBudWxsLCBudWxsLCBudWxsLHQpOw0KICAgICAgICByZXR1cm4gZXg7DQogICAgfQ0KDQogICAg
cHJpdmF0ZSBzdGF0aWMgQWRhcHRlclNlcnZpY2VFeGNlcHRpb24gY3JlYXRlQWRhcHRlclNlcnZp
Y2VFeGNlcHRpb24oaW50IG1pbm9yQ29kZSxTdHJpbmdbXSBwYXJhbSwgVGhyb3dhYmxlIHQpDQog
ICAgew0KICAgICAgICBXbUFkYXB0ZXIgYWRwSW5zdCA9IEpEQkNBZGFwdGVyLmdldEluc3RhbmNl
KCk7DQogICAgICAgIEFkYXB0ZXJTZXJ2aWNlRXhjZXB0aW9uIGV4ID0NCiAgICAgICAgICAgIG5l
dyBBZGFwdGVyU2VydmljZUV4Y2VwdGlvbihhZHBJbnN0LmdldEFkYXB0ZXJSZXNvdXJjZUJ1bmRs
ZU1hbmFnZXIoKSwNCiAgICAgICAgICAgIEludGVnZXIudG9TdHJpbmcoYWRwSW5zdC5nZXRBZGFw
dGVyTWFqb3JDb2RlKCkpLCBJbnRlZ2VyLnRvU3RyaW5nKG1pbm9yQ29kZSksDQogICAgICAgICAg
ICBwYXJhbSwgbnVsbCwgbnVsbCx0KTsNCiAgICAgICAgcmV0dXJuIGV4Ow0KICAgIH0NCg0K</value>
  <value name="encodeutf8">true</value>
</Values>
